(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{59:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(14),s=c.n(r),l=c(2),i=c(8),o=c(12),u=c(11),h=c.n(u),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,c=Object(n.useState)({articles:[],status:"IDLE",error:""}),a=Object(o.a)(c,2),r=a[0],s=a[1],l=Object(n.useRef)(null);return Object(n.useEffect)((function(){e.length<3||(l.current&&(console.log("cancel -------------1"),l.current.cancel()),l.current=h.a.CancelToken.source(),s(Object(i.a)(Object(i.a)({},r),{},{status:"PENDING"})),h.a.get("https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=".concat(e,"&limit=").concat(t),{cancelToken:l.current.token}).then((function(e){for(var t=[],c=0;c<e.data[1].length;c++)t.push({id:e.data[3][c],label:e.data[1][c]});s({articles:t,status:"SUCCESS",error:""})})).catch((function(e){h.a.isCancel(e)?console.log("request Cancel"):(s({articles:[],status:"ERROR",error:e}),h.a.isCancel(e))})))}),[e]),r},b=function(e){var t=e.children,c=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1];return{searchValue:c,onSearchChange:Object(n.useCallback)((function(e){return a(e.target.value)}),[])}}(),a=c.searchValue;return t({searchValue:a,onSearchChange:c.onSearchChange,articles:j(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,c=Object(n.useState)(e),a=Object(o.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){var c=setTimeout((function(){s(e)}),t);return function(){clearTimeout(c)}}),[e,t]),r}(a)).articles})},d=c(29),O=c.n(d),g=c(31),f=(c(59),c(1)),p=function(e){var t=e.placeholder,c=Object(g.a)(e,["placeholder"]);return Object(f.jsx)("input",Object(i.a)({className:"input-field test",placeholder:t},c))};p.defaultProps={placeholder:"Input search query"};var m=p,x=(c(61),function(e){var t=e.articles,c=e.searchValue,n=e.onSearchChange;return Object(f.jsx)(O.a,{className:"autocomplete",items:t,renderInput:m,inputProps:{placeholder:"Input a search term: "},getItemValue:function(e){return e.label},renderMenu:function(e,c,n){return t&&t.length?Object(f.jsxs)("div",{style:Object(i.a)({},n),className:"input-suggestions",children:[e,Object(f.jsx)("a",{href:"/search?query=".concat(c),className:"search-link",children:"See all results"})]}):Object(f.jsx)(f.Fragment,{})},renderItem:function(e,t){return Object(f.jsx)("div",{className:"input-suggestions-item",style:{backgroundColor:t?"#eee":"transparent"},children:Object(f.jsx)("a",{href:e.id,target:"_blank",children:e.label})},e.id)},value:c,onChange:n})}),v=(c(62),function(){return Object(f.jsxs)("div",{className:"home-page-container",children:[Object(f.jsx)("img",{src:"./google_logo.svg",alt:"logo"}),Object(f.jsx)(b,{children:function(e){var t=e.searchValue,c=e.onSearchChange,n=e.articles;return Object(f.jsx)(x,{onSearchChange:c,articles:n,searchValue:t})}})]})}),S=(c(63),function(e){var t=e.id,c=e.label;return Object(f.jsxs)("div",{className:"list-item",children:[Object(f.jsx)("a",{href:t,target:"_blank",children:c}),Object(f.jsx)("p",{children:t})]})}),C=function(e){var t=Object.assign({},e).location.search,c=new URLSearchParams(t).get("query"),a=j(c,50),r=a.articles,s=a.status;return Object(f.jsxs)("div",{children:[Object(f.jsx)(b,{children:function(e){var t=e.searchValue,c=e.onSearchChange,n=e.articles;return Object(f.jsx)(x,{onSearchChange:c,articles:n,searchValue:t})}}),r.length||"SUCCESS"!==s?r.map((function(e){return Object(n.createElement)(S,Object(i.a)(Object(i.a)({},e),{},{key:e.id}))})):Object(f.jsxs)("h3",{children:["No articles for query: ",c]})]})},k=function(){return Object(f.jsx)("div",{children:"Page Not Found"})},N=function(){return Object(f.jsxs)(l.c,{children:[Object(f.jsx)(l.a,{exact:!0,path:"/",component:v}),Object(f.jsx)(l.a,{path:"/search",component:C}),Object(f.jsx)(l.a,{component:k})]})},E=c(15);s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(E.a,{children:Object(f.jsx)(N,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.c0da762a.chunk.js.map