(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{59:function(e,t,r){},61:function(e,t,r){},62:function(e,t,r){},63:function(e,t,r){},66:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r.n(c),a=r(14),s=r.n(a),l=r(2),o=r(8),i=r(12),u=r(11),h=r.n(u),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=Object(c.useState)({articles:[],status:"IDLE",error:""}),n=Object(i.a)(r,2),a=n[0],s=n[1],l=Object(c.useRef)(null);return Object(c.useEffect)((function(){e.length<3||(l.current&&(console.log("cancel -------------1"),l.current.cancel()),l.current=h.a.CancelToken.source(),s(Object(o.a)(Object(o.a)({},a),{},{status:"PENDING"})),h.a.get("https://en.wikipedia.org/w/api.php?origin=*&action=opensearch&search=".concat(e,"&limit=").concat(t),{cancelToken:l.current.token}).then((function(e){for(var t=[],r=0;r<e.data[1].length;r++)t.push({id:e.data[3][r],label:e.data[1][r]});s({articles:t,status:"SUCCESS",error:""})})).catch((function(e){if(h.a.isCancel(e))console.log("request Cancel");else if(s({articles:[],status:"ERROR",error:e}),h.a.isCancel(e))throw new Error("Error")})))}),[e]),a},b=function(e){var t=e.children,r=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),r=t[0],n=t[1];return{searchValue:r,onSearchChange:Object(c.useCallback)((function(e){return n(e.target.value)}),[])}}(),n=r.searchValue;return t({searchValue:n,onSearchChange:r.onSearchChange,articles:j(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=Object(c.useState)(e),n=Object(i.a)(r,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){var r=setTimeout((function(){s(e)}),t);return function(){clearTimeout(r)}}),[e,t]),a}(n)).articles})},d=r(29),O=r.n(d),f=r(31),g=(r(59),r(1)),p=function(e){var t=e.placeholder,r=Object(f.a)(e,["placeholder"]);return Object(g.jsx)("input",Object(o.a)({className:"input-field test",placeholder:t},r))};p.defaultProps={placeholder:"Input search query"};var m=p,x=(r(61),function(e){var t=e.articles,r=e.searchValue,c=e.onSearchChange;return Object(g.jsx)(O.a,{className:"autocomplete",items:t,renderInput:m,inputProps:{placeholder:"Input a search term: "},getItemValue:function(e){return e.label},renderMenu:function(e,r,c){return t&&t.length?Object(g.jsxs)("div",{style:Object(o.a)({},c),className:"input-suggestions",children:[e,Object(g.jsx)("a",{href:"/search?query=".concat(r),className:"search-link",children:"See all results"})]}):Object(g.jsx)(g.Fragment,{})},renderItem:function(e,t){return Object(g.jsx)("div",{className:"input-suggestions-item",style:{backgroundColor:t?"#eee":"transparent"},children:Object(g.jsx)("a",{href:e.id,target:"_blank",rel:"noreferrer",children:e.label})},e.id)},value:r,onChange:c})}),v=(r(62),function(){return Object(g.jsxs)("div",{className:"home-page-container",children:[Object(g.jsx)("img",{src:"./google_logo.svg",alt:"logo"}),Object(g.jsx)(b,{children:function(e){var t=e.searchValue,r=e.onSearchChange,c=e.articles;return Object(g.jsx)(x,{onSearchChange:r,articles:c,searchValue:t})}})]})}),S=(r(63),function(e){var t=e.id,r=e.label;return Object(g.jsxs)("div",{className:"list-item",children:[Object(g.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:r}),Object(g.jsx)("p",{children:t})]})}),C=function(e){var t=Object.assign({},e).location.search,r=new URLSearchParams(t).get("query"),n=j(r,50),a=n.articles,s=n.status;return Object(g.jsxs)("div",{children:[Object(g.jsx)(b,{children:function(e){var t=e.searchValue,r=e.onSearchChange,c=e.articles;return Object(g.jsx)(x,{onSearchChange:r,articles:c,searchValue:t})}}),a.length||"SUCCESS"!==s?a.map((function(e){return Object(c.createElement)(S,Object(o.a)(Object(o.a)({},e),{},{key:e.id}))})):Object(g.jsxs)("h3",{children:["No articles for query: ",r]})]})},k=function(){return Object(g.jsx)("div",{children:"Page Not Found"})},E=function(){return Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{exact:!0,path:"/",component:v}),Object(g.jsx)(l.a,{path:"/search",component:C}),Object(g.jsx)(l.a,{component:k})]})},N=r(15);s.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(N.a,{children:Object(g.jsx)(E,{})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.f51aac5d.chunk.js.map